"use strict";(self.webpackChunkmohap_dashboard=self.webpackChunkmohap_dashboard||[]).push([[960],{59960:(Ft,q,s)=>{s.r(q),s.d(q,{CounterStatusModule:()=>It});var g=s(38583),l=s(54655),d=s(29790),L=s(34875),u=s(11494),f=s(38345),_=s(26215);class M extends f.o2{constructor(a){super(),this.dataProvider=a,this.data=new _.X([])}loadData(a){this.dataProvider.getCounterStatusHospitalData(a).subscribe(n=>{let o=[];n.forEach(i=>{o.push({id:i.id,name:i.name,total:i.open+i.closed,open:i.open,closed:i.closed})}),this.pdfData=o,this.data.next(o)})}connect(){return this.data.asObservable()}disconnect(){this.data.complete()}getSortedData(a){this.sortedData=this.data.getValue(),this.sortedData.sort((n,o)=>{const i="asc"===this.sort.direction;switch(this.sort.active){case"name":return h(n.name,o.name,i);case"total":return h(n.total,o.total,i);case"open":return h(n.open,o.open,i);case"closed":return h(n.closed,o.closed,i);default:return 0}}),this.data.next(this.sortedData)}}function h(e,a,n){return(e<a?-1:1)*(n?1:-1)}var t=s(37716),C=s(8120),b=s(12983),v=s(67278),w=s(81735),D=s(39534),y=s(51095),O=s(76627),r=s(32091),Z=s(54902),x=s(61463);function Y(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.name")))}const H=function(e,a){return["counter-status",e,a,"counter"]},B=function(e,a){return["counter-status-filter",e,!0,a]},U=function(e,a){return{primary:e,secondRouter:a}},Q=function(e){return{outlets:e}},I=function(e){return["/",e]};function F(e,a){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"a",22),t.TgZ(2,"span",23),t.TgZ(3,"span",24),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=a.$implicit,o=a.index,i=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(16,I,t.VKq(14,Q,t.WLB(11,U,t.WLB(5,H,n.id,n.name),t.WLB(8,B,n.id,i.branchIds))))),t.xp6(1),t.s9C("title",i.getFirstLetter(n.name)),t.Q6J("appBranchTitleColor",i.getColor(o+1)),t.xp6(1),t.s9C("tooltip",n.name),t.xp6(1),t.Oqu(n.name)}}function W(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.total-counters")))}function z(e,a){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.total)}}function J(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.open-counters")))}function R(e,a){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.open)}}function $(e,a){1&e&&(t.TgZ(0,"th",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.closed-counters")))}function E(e,a){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.closed)}}function V(e,a){1&e&&t._UZ(0,"tr",25)}function X(e,a){1&e&&t._UZ(0,"tr",26)}let j=(()=>{class e{constructor(n,o,i,c,S,T,A){this.dataProvider=n,this.filterService=o,this.route=i,this.utilityService=c,this.translateService=S,this.pdfService=T,this.printService=A,this.displayedColumns=["name","total","open","closed"],this.backImage="assets/images/less-than.png"}ngOnInit(){this.dataSource=new M(this.dataProvider),this.branchIdSubs=this.filterService.branchIds.subscribe(n=>{this.branchIds=n.toString(),this.dataSource.loadData(n)})}ngAfterViewInit(){this.dataSource.sort=this.sort}getFirstLetter(n){return this.utilityService.getFirstLetter(n)}getColor(n){return this.utilityService.getColor(n)}getWaitingTime(n){return this.utilityService.getAverageTime(n)}sortData(n){this.dataSource.getSortedData(n)}onPrint(){let n=[];n.push(this.translateService.instant("dashboard.name")),n.push(this.translateService.instant("dashboard.total-counters")),n.push(this.translateService.instant("dashboard.open-counters")),n.push(this.translateService.instant("dashboard.closed-counters")),this.pdfService.createPdf(n,this.displayedColumns,this.dataSource.pdfData,"Counter Status","counter_status.pdf")}onPrintPage(){this.printService.print("cs-hospital")}ngOnDestroy(){this.branchIdSubs.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.F),t.Y36(b.i),t.Y36(l.gz),t.Y36(v.t),t.Y36(d.sK),t.Y36(w.e),t.Y36(D.$))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-counter-status-hospital"]],viewQuery:function(n,o){if(1&n&&t.Gf(u.YE,1),2&n){let i;t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:37,vars:10,consts:[[1,"container"],[1,"heading"],[2,"margin-left","15px"],[1,"sub-container"],[1,"subHeading"],[2,"float","left"],[2,"float","right","margin-right","40px"],["mat-mini-fab","","color","primary",3,"click"],[2,"float","right","margin-right","20px"],["mat-mini-fab","",3,"click"],[1,"mat-table-container"],["id","cs-hospital","mat-table","","matSort","","aria-label","Elements",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","total"],["matColumnDef","open"],["matColumnDef","closed"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"text-decoration","none",3,"routerLink"],[3,"appBranchTitleColor","title"],[1,"branchName",3,"tooltip"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"span",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.TgZ(11,"div",6),t.TgZ(12,"span"),t.TgZ(13,"button",7),t.NdJ("click",function(){return o.onPrintPage()}),t.TgZ(14,"mat-icon"),t._uU(15,"print"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"div",8),t.TgZ(17,"span"),t.TgZ(18,"button",9),t.NdJ("click",function(){return o.onPrint()}),t.TgZ(19,"mat-icon"),t._uU(20,"import_export"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div",10),t.TgZ(22,"table",11),t.NdJ("matSortChange",function(c){return o.sortData(c)}),t.ynx(23,12),t.YNc(24,Y,3,3,"th",13),t.YNc(25,F,5,18,"td",14),t.BQk(),t.ynx(26,15),t.YNc(27,W,3,3,"th",13),t.YNc(28,z,3,1,"td",14),t.BQk(),t.ynx(29,16),t.YNc(30,J,3,3,"th",13),t.YNc(31,R,3,1,"td",14),t.BQk(),t.ynx(32,17),t.YNc(33,$,3,3,"th",13),t.YNc(34,E,3,1,"td",14),t.BQk(),t.YNc(35,V,1,0,"tr",18),t.YNc(36,X,1,0,"tr",19),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,6,"dashboard.counter_status")),t.xp6(6),t.Oqu(t.lcZ(10,8,"dashboard.branches")),t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[y.lW,O.Hw,r.BZ,u.YE,r.w1,r.fO,r.Dz,r.as,r.nj,r.ge,u.nU,r.ev,l.yS,Z.f,x.i9,r.XQ,r.Gk],pipes:[d.X$],styles:['.container[_ngcontent-%COMP%]{margin:25px}.sub-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:20px 0 30px}table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{vertical-align:middle}span[_ngcontent-%COMP%]{vertical-align:middle}.heading[_ngcontent-%COMP%]{color:#646463;margin-top:40px;margin-bottom:40px;font:40px "Helvetica"}.branchName[_ngcontent-%COMP%]{font:16px "Helvetica",bold;color:#7b7b7d;display:flex;margin-top:6px}.data-letters-blue[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#47ACFA;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-purple[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#8C7CC3;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-green[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#6BBE2A;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-orange[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#FFBE23;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.mat-header-cell[_ngcontent-%COMP%]{font-size:16px}.mat-cell[_ngcontent-%COMP%]{font:15px "Helvetica",Arial;text-align:center}  .mat-sort-header-container{justify-content:center}.ellipse-green[_ngcontent-%COMP%]{background-color:#38ae3d;height:21px;width:33px;border-radius:40%;display:inline-block}.ellipse-red[_ngcontent-%COMP%]{background-color:#e03e26;height:21px;width:33px;border-radius:40%;display:inline-block}.subHeading[_ngcontent-%COMP%]{font:24px Arial,normal;padding-top:10px;color:#7d7d7a;margin-left:35px}']}),e})();class K extends f.o2{constructor(a,n){super(),this.dataProvider=a,this.utilityService=n,this.data=new _.X([])}loadData(a){this.dataProvider.getCounterStatusLiveData(a).subscribe(n=>{this.data.next(n),this.pdfData=n})}connect(){return this.data.asObservable()}disconnect(){this.data.complete()}getSortedData(a){this.sortedData=this.data.getValue(),this.sortedData.sort((n,o)=>{const i="asc"===this.sort.direction;switch(this.sort.active){case"name":return p(n.name,o.name,i);case"staffFullName":return p(n.staffFullName,o.staffFullName,i);case"workprofileName":return p(n.workprofileName,o.workprofileName,i);case"ticketNumber":return p(n.ticketNumber,o.ticketNumber,i);case"serviceName":return p(n.serviceName,n.serviceName,i);case"transactionTime":return p(n.transactionTime,n.transactionTime,i);default:return 0}}),this.data.next(this.sortedData)}}function p(e,a,n){return(e<a?-1:1)*(n?1:-1)}function G(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.counter")))}function tt(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"a",25),t.TgZ(2,"span",26),t.TgZ(3,"span",27),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=a.$implicit,o=a.index,i=t.oxw();t.xp6(2),t.s9C("title",i.getFirstLetter(n.name)),t.Q6J("appBranchTitleColor",i.getColor(o+1)),t.xp6(1),t.s9C("tooltip",n.name),t.xp6(1),t.Oqu(n.name)}}function et(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.staff")))}function nt(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.staffFullName)}}function at(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.work-profile")))}function ot(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.workprofileName)}}function it(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.ticket_no")))}function rt(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.ticketNumber)}}function st(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.service")))}function ct(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.serviceName)}}function lt(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.trt-time")))}function ut(e,a){if(1&e&&(t.TgZ(0,"td",24),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.transactionTime)}}function dt(e,a){1&e&&t._UZ(0,"tr",28)}function pt(e,a){1&e&&t._UZ(0,"tr",29)}const mt=function(e,a){return["counter-status",e,a,"counter"]},ht=function(e,a){return["counter-status-filter",e,!0,a]},gt=function(e,a){return{primary:e,secondRouter:a}},ft=function(e){return{outlets:e}},_t=function(e){return["/",e]};let Ct=(()=>{class e{constructor(n,o,i,c,S,T,A){this.dataProvider=n,this.filterService=o,this.route=i,this.utilityService=c,this.printService=S,this.translateService=T,this.pdfService=A,this.displayedColumns=["name","staffFullName","workprofileName","ticketNumber","serviceName","transactionTime"],this.backImage="assets/images/less-than.png"}ngOnInit(){this.route.params.forEach(n=>{this.branchId=Number.parseInt(n.branchId),this.branchName=n.branchName}),this.dataSource=new K(this.dataProvider,this.utilityService),this.dataSource.loadData(this.branchId)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.branchIdsSub=this.filterService.branchIds.subscribe(n=>{this.branchIds=n.toString()}),this.branchIdSub=this.filterService.branchId.subscribe(n=>{this.branchId=n,this.dataSource.loadData(n)})}getFirstLetter(n){return this.utilityService.getFirstLetter(n)}getColor(n){return this.utilityService.getColor(n)}getWaitingTime(n){return this.utilityService.getAverageTime(n)}sortData(n){this.dataSource.getSortedData(n)}onPrint(){let n=[];n.push(this.translateService.instant("dashboard.counter")),n.push(this.translateService.instant("dashboard.staff")),n.push(this.translateService.instant("dashboard.work-profile")),n.push(this.translateService.instant("dashboard.ticket_no")),n.push(this.translateService.instant("dashboard.service")),n.push(this.translateService.instant("dashboard.trt-time")),this.pdfService.createPdf(n,this.displayedColumns,this.dataSource.pdfData,"Counter Status","counter_status.pdf")}onPrintPage(){this.printService.print("cs-live")}ngOnDestroy(){this.branchIdSub.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.F),t.Y36(b.i),t.Y36(l.gz),t.Y36(v.t),t.Y36(D.$),t.Y36(d.sK),t.Y36(w.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-counter-status-live"]],viewQuery:function(n,o){if(1&n&&t.Gf(u.YE,1),2&n){let i;t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:45,vars:25,consts:[[1,"container"],[1,"heading"],[3,"routerLink"],["width","50","height","50",3,"src"],[2,"margin-left","15px"],[1,"sub-container"],[1,"subHeading"],[2,"float","right","margin-right","40px"],["mat-mini-fab","","color","primary",3,"click"],[2,"float","right","margin-right","20px"],["mat-mini-fab","",3,"click"],[1,"mat-table-container"],["id","cs-live","mat-table","","matSort","","aria-label","Elements",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","staffFullName"],["matColumnDef","workprofileName"],["matColumnDef","ticketNumber"],["matColumnDef","serviceName"],["matColumnDef","transactionTime"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"text-decoration","none",3,"routerLink"],[3,"appBranchTitleColor","title"],[1,"branchName",3,"tooltip"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"div"),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.TgZ(13,"div",7),t.TgZ(14,"span"),t.TgZ(15,"button",8),t.NdJ("click",function(){return o.onPrintPage()}),t.TgZ(16,"mat-icon"),t._uU(17,"print"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",9),t.TgZ(19,"span"),t.TgZ(20,"button",10),t.NdJ("click",function(){return o.onPrint()}),t.TgZ(21,"mat-icon"),t._uU(22,"import_export"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"table",12),t.NdJ("matSortChange",function(c){return o.sortData(c)}),t.ynx(25,13),t.YNc(26,G,3,3,"th",14),t.YNc(27,tt,5,4,"td",15),t.BQk(),t.ynx(28,16),t.YNc(29,et,3,3,"th",14),t.YNc(30,nt,3,1,"td",15),t.BQk(),t.ynx(31,17),t.YNc(32,at,3,3,"th",14),t.YNc(33,ot,3,1,"td",15),t.BQk(),t.ynx(34,18),t.YNc(35,it,3,3,"th",14),t.YNc(36,rt,3,1,"td",15),t.BQk(),t.ynx(37,19),t.YNc(38,st,3,3,"th",14),t.YNc(39,ct,3,1,"td",15),t.BQk(),t.ynx(40,20),t.YNc(41,lt,3,3,"th",14),t.YNc(42,ut,3,1,"td",15),t.BQk(),t.YNc(43,dt,1,0,"tr",21),t.YNc(44,pt,1,0,"tr",22),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.VKq(23,_t,t.VKq(21,ft,t.WLB(18,gt,t.WLB(12,mt,o.branchId,o.branchName),t.WLB(15,ht,o.branchId,o.branchIds))))),t.xp6(1),t.Q6J("src",o.backImage,t.LSH),t.xp6(2),t.Oqu(t.lcZ(6,8,"dashboard.counter_status")),t.xp6(6),t.Oqu(t.lcZ(12,10,"dashboard.counter-name")),t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[l.yS,y.lW,O.Hw,r.BZ,u.YE,r.w1,r.fO,r.Dz,r.as,r.nj,r.ge,u.nU,r.ev,Z.f,x.i9,r.XQ,r.Gk],pipes:[d.X$],styles:['.container[_ngcontent-%COMP%]{margin:25px}.sub-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:20px 0 30px}table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{vertical-align:middle}span[_ngcontent-%COMP%]{vertical-align:middle}.heading[_ngcontent-%COMP%]{color:#646463;margin-top:40px;margin-bottom:40px;font:40px "Helvetica"}.branchName[_ngcontent-%COMP%]{font:16px "Helvetica",bold;color:#7b7b7d;display:flex;margin-top:6px}.data-letters-blue[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#47ACFA;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-purple[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#8C7CC3;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-green[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#6BBE2A;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-orange[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#FFBE23;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.mat-header-cell[_ngcontent-%COMP%]{font-size:16px}.mat-cell[_ngcontent-%COMP%]{font:15px "Helvetica",Arial;text-align:center}  .mat-sort-header-container{justify-content:center}.ellipse-green[_ngcontent-%COMP%]{background-color:#38ae3d;height:21px;width:33px;border-radius:40%;display:inline-block}.ellipse-red[_ngcontent-%COMP%]{background-color:#e03e26;height:21px;width:33px;border-radius:40%;display:inline-block}.subHeading[_ngcontent-%COMP%]{font:24px Arial,normal;padding-top:10px;color:#7d7d7a;margin-left:35px}']}),e})();class bt extends f.o2{constructor(a){super(),this.dataProvider=a,this.data=new _.X([])}loadData(a){this.dataProvider.getAllServicePointsByBranchId(a).subscribe(n=>this.data.next(n))}connect(){return this.data.asObservable()}disconnect(){this.data.complete()}getSortedData(a){this.sortedData=this.data.getValue(),this.sortedData.sort((n,o)=>{const i="asc"===this.sort.direction;switch(this.sort.active){case"name":return m(n.name,o.name,i);case"status":return m(n.status,o.status,i);case"staffName":return m(n.staffFullName,o.staffFullName,i);case"served":return m(n.served,o.served,i);case"totalTrTime":return m(n.transactionTime,o.transactionTime,i);default:return 0}}),this.data.next(this.sortedData)}filterByBranch(a){this.dataProvider.getAllServicePointsByBranchId(a).subscribe(n=>this.data.next(n))}}function m(e,a,n){return(e<a?-1:1)*(n?1:-1)}var vt=s(88030);const Zt=function(){return["served-and-waiting-dept"]},xt=function(){return["served-and-waiting-dept-filter"]},N=function(e,a){return{primary:e,secondRouter:a}},k=function(e){return{outlets:e}},P=function(e){return["/",e]};function St(e,a){if(1&e&&(t.TgZ(0,"div",15),t.TgZ(1,"a",16),t._UZ(2,"img",17),t.qZA(),t.TgZ(3,"span",18),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(12,P,t.VKq(10,k,t.WLB(7,N,t.DdM(5,Zt),t.DdM(6,xt))))),t.xp6(1),t.Q6J("src",n.backImage,t.LSH),t.xp6(2),t.Oqu(t.lcZ(5,3,"dashboard.counter_status"))}}const Tt=function(){return["counter-status"]},At=function(){return["counter-status-hospital-filter"]};function qt(e,a){if(1&e&&(t.TgZ(0,"div",15),t.TgZ(1,"a",16),t._UZ(2,"img",17),t.qZA(),t.TgZ(3,"span",18),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(12,P,t.VKq(10,k,t.WLB(7,N,t.DdM(5,Tt),t.DdM(6,At))))),t.xp6(1),t.Q6J("src",n.backImage,t.LSH),t.xp6(2),t.Oqu(t.lcZ(5,3,"dashboard.counter_status"))}}function wt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.name")))}function Dt(e,a){if(1&e&&(t.TgZ(0,"td",20),t.TgZ(1,"a",21),t.TgZ(2,"span",22),t.TgZ(3,"span",23),t._uU(4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=a.$implicit,o=a.index,i=t.oxw();t.xp6(2),t.s9C("title",i.getFirstLetter(n.name)),t.Q6J("appBranchTitleColor",i.getColor(o+1)),t.xp6(1),t.s9C("tooltip",n.name),t.xp6(1),t.Oqu(n.name)}}function yt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.status")))}function Ot(e,a){if(1&e&&(t.TgZ(0,"td",20),t._UZ(1,"div",24),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngClass","OPEN"==n.status?"ellipse-green":"ellipse-red")}}function Nt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.staff_name")))}function kt(e,a){if(1&e&&(t.TgZ(0,"td",20),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.staffFullName)}}function Pt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.served")))}function Lt(e,a){if(1&e&&(t.TgZ(0,"td",20),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.served)}}function Mt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.total_trt_time")))}function Yt(e,a){if(1&e&&(t.TgZ(0,"td",20),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const n=a.$implicit,o=t.oxw();t.xp6(2),t.hij("",o.getWaitingTime(n.transactionTime)," Min")}}function Ht(e,a){1&e&&t._UZ(0,"tr",25)}function Bt(e,a){1&e&&t._UZ(0,"tr",26)}const Ut=[{path:"",component:j},{path:":branchId/:branchName",component:Ct},{path:":branchId/:branchName/:page",component:(()=>{class e{constructor(n,o,i,c){this.dataProvider=n,this.filterService=o,this.route=i,this.utilityService=c,this.displayedColumns=["name","status","staffName","served","totalTrTime"],this.backImage="assets/images/less-than.png"}ngOnInit(){this.route.params.forEach(n=>{this.branchId=Number.parseInt(n.branchId),this.pageName=n.page,this.branchName=n.branchName}),this.dataSource=new bt(this.dataProvider),this.dataSource.loadData(this.branchId)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.branchIdSubs=this.filterService.branch.subscribe(n=>{this.branchId=n.branchId,this.branchName=n.branchName,this.dataSource.filterByBranch(this.branchId)})}getFirstLetter(n){return this.utilityService.getFirstLetter(n)}getColor(n){return this.utilityService.getColor(n)}getWaitingTime(n){return this.utilityService.getAverageTime(n)}sortData(n){this.dataSource.getSortedData(n)}ngOnDestroy(){this.branchIdSubs.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(C.F),t.Y36(b.i),t.Y36(l.gz),t.Y36(v.t))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-served-and-waiting-dept-counter-status"]],viewQuery:function(n,o){if(1&n&&t.Gf(u.YE,1),2&n){let i;t.iGM(i=t.CRH())&&(o.sort=i.first)}},decls:26,vars:7,consts:[[1,"container"],["class","heading",4,"ngIf"],[1,"sub-container"],[1,"subHeading"],[1,"mat-table-container"],["mat-table","","matSort","","aria-label","Elements",1,"mat-elevation-z8",3,"dataSource","matSortChange"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","staffName"],["matColumnDef","served"],["matColumnDef","totalTrTime"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"heading"],[3,"routerLink"],["width","50","height","50",3,"src"],[2,"margin-left","15px"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[2,"text-decoration","none",3,"routerLink"],[3,"appBranchTitleColor","title"],[1,"branchName",3,"tooltip"],[3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,St,6,14,"div",1),t.YNc(2,qt,6,14,"div",1),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"table",5),t.NdJ("matSortChange",function(c){return o.sortData(c)}),t.ynx(9,6),t.YNc(10,wt,3,3,"th",7),t.YNc(11,Dt,5,4,"td",8),t.BQk(),t.ynx(12,9),t.YNc(13,yt,3,3,"th",7),t.YNc(14,Ot,2,1,"td",8),t.BQk(),t.ynx(15,10),t.YNc(16,Nt,3,3,"th",7),t.YNc(17,kt,3,1,"td",8),t.BQk(),t.ynx(18,11),t.YNc(19,Pt,3,3,"th",7),t.YNc(20,Lt,3,1,"td",8),t.BQk(),t.ynx(21,12),t.YNc(22,Mt,3,3,"th",7),t.YNc(23,Yt,3,1,"td",8),t.BQk(),t.YNc(24,Ht,1,0,"tr",13),t.YNc(25,Bt,1,0,"tr",14),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf","department"==o.pageName),t.xp6(1),t.Q6J("ngIf","counter"==o.pageName),t.xp6(4),t.Oqu(o.branchName),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},directives:[g.O5,r.BZ,u.YE,r.w1,r.fO,r.Dz,r.as,r.nj,l.yS,r.ge,u.nU,r.ev,Z.f,x.i9,vt.oO,g.mk,r.XQ,r.Gk],pipes:[d.X$],styles:['.container[_ngcontent-%COMP%]{margin:25px}.sub-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:20px 0 30px}table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{vertical-align:middle}span[_ngcontent-%COMP%]{vertical-align:middle}.heading[_ngcontent-%COMP%]{color:#646463;margin-top:40px;margin-bottom:40px;font:40px "Helvetica"}.branchName[_ngcontent-%COMP%]{font:16px "Helvetica",bold;color:#7b7b7d;display:flex;margin-top:6px}.data-letters-blue[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#47ACFA;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-purple[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#8C7CC3;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-green[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#6BBE2A;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.data-letters-orange[_ngcontent-%COMP%]:before{content:attr(title);display:block;font-size:1.2em;height:30px;width:35px;line-height:1.8em;border-radius:100%;background:#FFBE23;text-align:center;font-weight:500;margin-right:14px;color:#00008b;float:left}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.mat-header-cell[_ngcontent-%COMP%]{font-size:16px}.mat-cell[_ngcontent-%COMP%]{font:15px "Helvetica",Arial;text-align:center}  .mat-sort-header-container{justify-content:center}.ellipse-green[_ngcontent-%COMP%]{background-color:#38ae3d;height:21px;width:33px;border-radius:40%;display:inline-block}.ellipse-red[_ngcontent-%COMP%]{background-color:#e03e26;height:21px;width:33px;border-radius:40%;display:inline-block}.subHeading[_ngcontent-%COMP%]{font:24px Arial,normal;padding-top:10px;color:#7d7d7a;margin-left:35px}']}),e})()}];let Qt=(()=>{class e{}return e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({factory:function(n){return new(n||e)},imports:[[l.Bz.forChild(Ut)],l.Bz]}),e})(),It=(()=>{class e{}return e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({factory:function(n){return new(n||e)},imports:[[Qt,L.m,l.Bz,g.ez,d.aw]]}),e})()}}]);